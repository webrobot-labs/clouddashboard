(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{3039:function(e,l,i){Promise.resolve().then(i.bind(i,413))},413:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return k}});var s=i(7437),o=i(8735),n=i(2265),r=i(9343),a=i(7753),t=i(4245),c=i(9555),d=i(9879),m=i(8338),u=i(8922),g=i(4379),x=i.n(g),h=i(2018),b=i(7491),f=i(5263),_=i(6648),N=i(8472),p=i(6463);i(2644);let v=new f.Z,j=t.Ry().shape({fullName:t.Z_().trim().required("Full Name is required"),email:t.Z_().trim().required("Email Address is required").email("Email format is not correct"),address:t.Z_().trim().required("Address is required"),phoneNumber:t.Z_().trim().required("Phone Number is required").matches(/^[0-9]+$/,"Phone Number must contain only digits")});var w=()=>{var e,l,i,t;let[g,f]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),y=(0,p.useRouter)(),{register:Z,handleSubmit:E,reset:L,formState:{errors:P}}=(0,r.cI)({resolver:(0,a.X)(j)}),S=(0,c.useMutation)({mutationFn:e=>N.Z.post("/api/profile",e).then(e=>{x().fire("Saved!","Profile updated successfully.","success")}).catch(e=>{x().fire("Error!","There was an error updating the profile.","error"),console.error("Error:",e)})}),q=(0,o.Nq)({onSuccess:async e=>{try{let l=await N.Z.get("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:"Bearer ".concat(e.access_token)}});v.set("googleUser",JSON.stringify(l.data),{path:"/"}),console.log("Google user info:",l.data),f(!0),x().fire("Linked!","Google account linked successfully.","success")}catch(e){console.error("Error fetching Google user info:",e)}},onError:e=>{console.error("Google login error:",e)}}),G=async e=>{S.mutate(e)};return(0,n.useEffect)(()=>{(async()=>{L((await N.Z.get("/api/user")).data)})()},[L]),(0,s.jsx)("section",{className:"h-100 gradient-form",children:(0,s.jsx)("div",{className:"container py-5 h-100",children:(0,s.jsx)("div",{className:"row d-flex justify-content-center align-items-center h-100",children:(0,s.jsx)("div",{className:"col-xl-6",children:(0,s.jsx)("div",{className:"card text-black rounded-3",children:(0,s.jsx)("div",{className:"row g-0",children:(0,s.jsx)("div",{className:"col-lg-12",children:(0,s.jsxs)("div",{className:"card-body p-md-5 mx-md-4",children:[(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("a",{href:"/",className:"cursor-pointer",children:(0,s.jsx)(_.default,{width:250,height:66,src:"/images/logo.png",alt:"Logo"})})}),(0,s.jsxs)("form",{onSubmit:E(G),children:[(0,s.jsx)("h5",{className:"font-bold mt-4",children:"Your Profile"}),(0,s.jsxs)("div",{className:"form-outline mb-4",children:[(0,s.jsx)(m.Z,{id:"fullName",label:"Full Name",variant:"filled",type:"text",className:"email-width",...Z("fullName")}),(null==P?void 0:P.fullName)&&(0,s.jsx)("span",{style:{color:"red"},children:null==P?void 0:null===(e=P.fullName)||void 0===e?void 0:e.message})]}),(0,s.jsxs)("div",{className:"form-outline mb-4",children:[(0,s.jsx)(m.Z,{id:"email",label:"Email",variant:"filled",type:"email",className:"email-width",...Z("email")}),(null==P?void 0:P.email)&&(0,s.jsx)("span",{style:{color:"red"},children:null==P?void 0:null===(l=P.email)||void 0===l?void 0:l.message})]}),(0,s.jsxs)("div",{className:"form-outline mb-4",children:[(0,s.jsx)(m.Z,{id:"address",label:"Address",variant:"filled",className:"email-width",type:"text",...Z("address")}),(null==P?void 0:P.address)&&(0,s.jsx)("span",{style:{color:"red"},children:null==P?void 0:null===(i=P.address)||void 0===i?void 0:i.message})]}),(0,s.jsxs)("div",{className:"form-outline mb-4",children:[(0,s.jsx)(m.Z,{id:"phoneNumber",label:"Phone Number",variant:"filled",className:"email-width",type:"text",...Z("phoneNumber")}),(null==P?void 0:P.phoneNumber)&&(0,s.jsx)("span",{style:{color:"red"},children:null==P?void 0:null===(t=P.phoneNumber)||void 0===t?void 0:t.message})]}),(0,s.jsx)("div",{className:"text-center pt-1 mb-1 pb-1",children:(0,s.jsx)(d.Z,{className:"btn btn-primary fa-lg gradient-custom-2 mb-3 w-100 login-button",type:"submit",children:"Save Profile"})}),(0,s.jsxs)("div",{className:"d-flex flex-row align-items-center login-box-seperator-container",children:[(0,s.jsx)("div",{className:"login-box-seperator"}),(0,s.jsx)("div",{className:"login-box-seperator-text",children:(0,s.jsx)("p",{className:"or-text",children:"Link your Social Accounts"})}),(0,s.jsx)("div",{className:"login-box-seperator"})]}),(0,s.jsxs)("div",{className:"form-outline mb-4",children:[(0,s.jsxs)("div",{className:"login-box-content",children:[(0,s.jsxs)(d.Z,{className:"fb-login box-shadow ".concat(w?"linked":""),onClick:()=>{k(!0),x().fire("Linked!","Facebook account linked successfully.","success")},disabled:w,children:[(0,s.jsx)(b.Z,{className:"facebook-icon-color"}),w?"Facebook Linked":"Link Facebook"]}),(0,s.jsxs)(d.Z,{className:"fb-login box-shadow mt-2 ".concat(g?"linked":""),onClick:()=>q(),disabled:g,children:[(0,s.jsx)(h.Z,{className:"gmail-icon-color"}),g?"Google Linked":"Link Google"]})]}),(0,s.jsx)("div",{className:"mt-2 mb-2",children:(0,s.jsxs)("p",{className:"text-muted text-center d-flex justify-content-center align-items-center",children:[(0,s.jsx)(u.Z,{inputProps:{"aria-label":"Checkbox demo"}}),"I consent to the processing of my personal data"]})})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)(d.Z,{className:"btn btn-secondary mt-3",onClick:()=>y.push("/"),children:"Back to Home"})})]})]})})})})})})})})},k=()=>(0,s.jsx)(o.GoogleOAuthProvider,{clientId:"YOUR_GOOGLE_CLIENT_ID",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Profile"}),(0,s.jsx)(w,{})]})})},2644:function(e){e.exports={"login-box":"newlogin_login-box__L2Vze","login-box-header":"newlogin_login-box-header__HDMvc","login-box-content":"newlogin_login-box-content__fDpoH","social-login-link":"newlogin_social-login-link__BJPOS","fb-login":"newlogin_fb-login__V8_af","gp-login":"newlogin_gp-login__JrLVx","box-shadow":"newlogin_box-shadow__Q0sdQ","login-box-seperator":"newlogin_login-box-seperator__RBOEF","email-imput":"newlogin_email-imput__s0Ujg","form-control":"newlogin_form-control__zwFgY","email-login":"newlogin_email-login__W3c1X","submit-id-submit":"newlogin_submit-id-submit__ghrmR","submit-row":"newlogin_submit-row__HbcTk","label-text":"newlogin_label-text__hC2sp","forgot-password-link":"newlogin_forgot-password-link__Hn1Yj","login-box-footer":"newlogin_login-box-footer__yN3iS","register-link":"newlogin_register-link__XKmlw"}}},function(e){e.O(0,[473,461,547,645,555,428,903,971,23,744],function(){return e(e.s=3039)}),_N_E=e.O()}]);