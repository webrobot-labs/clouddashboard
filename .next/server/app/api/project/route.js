"use strict";(()=>{var e={};e.id=815,e.ids=[815],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2307:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>v,requestAsyncStorage:()=>h,routeModule:()=>g,serverHooks:()=>R,staticGenerationAsyncStorage:()=>C});var a={};r.r(a),r.d(a,{DELETE:()=>j,GET:()=>y,POST:()=>d,PUT:()=>w});var s=r(9303),n=r(8716),o=r(670),i=r(7070);r(4731),r(4579);var c=r(2972),u=r(2174);class p{constructor(e){this.projectRepository=e}async createProject(e){return await this.projectRepository.create(e)}async getAllProjects(){return await this.projectRepository.getAll()}async updateProject(e,t){return await this.projectRepository.update(e,t)}async deleteProject(e){return await this.projectRepository.delete(e)}}let l=p=(0,u.gn)([(0,c.b2)(),(0,u.fM)(0,(0,c.f3)("IProjectRepository")),(0,u.w6)("design:type",Function),(0,u.w6)("design:paramtypes",["undefined"==typeof IProjectRepository?Object:IProjectRepository])],p);async function y(){let e=c.nC.resolve(l);try{let t=await e.getAllProjects();return i.NextResponse.json(t)}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function d(e){let t=c.nC.resolve(l),r=await e.json();try{let e=await t.createProject(r);return i.NextResponse.json(e,{status:201})}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function w(e){let t=c.nC.resolve(l),r=await e.json();try{let e=await t.updateProject(r.id,r);return i.NextResponse.json(e)}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function j(e){let t=c.nC.resolve(l),r=await e.json();try{return await t.deleteProject(r.id),i.NextResponse.json({},{status:204})}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let g=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/project/route",pathname:"/api/project",filename:"route",bundlePath:"app/api/project/route"},resolvedPagePath:"/home/roger/github/clouddashboard/app/api/project/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:h,staticGenerationAsyncStorage:C,serverHooks:R}=g,m="/api/project/route";function v(){return(0,o.patchFetch)({serverHooks:R,staticGenerationAsyncStorage:C})}},9875:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(2174);r(4731);var s=r(2972);class n{constructor(e){this.categoryRepository=e}async getAllCategories(e){return await this.categoryRepository.getAll(e)}async createCategory(e){return await this.categoryRepository.create(e)}async updateCategory(e,t){return await this.categoryRepository.update(e,t)}async deleteCategory(e){return await this.categoryRepository.delete(e)}}let o=n=(0,a.gn)([(0,s.b2)(),(0,a.fM)(0,(0,s.f3)("ICategoryRepository")),(0,a.w6)("design:type",Function),(0,a.w6)("design:paramtypes",["undefined"==typeof ICategoryRepository?Object:ICategoryRepository])],n)},4579:(e,t,r)=>{var a=r(2972);let s=require("@prisma/client"),n=new s.PrismaClient;class o{async getAll(e){return await n.category.findMany({where:e?{name:{contains:e.name}}:{},include:{job:!0}})}async getById(e){return await n.category.findUnique({where:{id:e},include:{job:!0}})}async create(e){return await n.category.create({data:e})}async update(e,t){return await n.category.update({where:{id:e},data:t})}async delete(e){return await n.category.delete({where:{id:e}})}}let i=new s.PrismaClient;class c{async create(e){return await i.script.create({data:e})}async getById(e){return await i.script.findUnique({where:{id:e},include:{jobs:!0}})}async getAll(e){return await i.script.findMany({where:e?{name:{contains:e}}:{},include:{jobs:!0}})}async update(e,t){return await i.script.update({where:{id:e},data:t})}async delete(e){return await i.script.delete({where:{id:e}})}}let u=new s.PrismaClient;class p{async create(e){return await u.job.create({data:e})}async getAll(){return await u.job.findMany()}async update(e,t){return await u.job.update({where:{id:e},data:t})}async delete(e){return await u.job.delete({where:{id:e}})}}class l{constructor(){this.prisma=new s.PrismaClient}async create(e){return this.prisma.inputdataset.create({data:e})}async findAll(){return this.prisma.inputdataset.findMany()}async update(e,t){return this.prisma.inputdataset.update({where:{id:e},data:t})}async delete(e){await this.prisma.inputdataset.delete({where:{id:e}})}}let y=new s.PrismaClient;class d{async create(e){return await y.project.create({data:e})}async getAll(){return await y.project.findMany({include:{jobtoproject:{select:{projectId:!0,project:!0,job:!0,inputdataset:!0,outputdataset:!0}}}})}async update(e,t){return await y.project.update({where:{id:e},data:t})}async delete(e){return await y.project.delete({where:{id:e}})}}var w=r(9875);a.nC.register("ICategoryRepository",{useClass:o}),a.nC.register("IProjectRepository",{useClass:d}),a.nC.register("IScriptRepository",{useClass:c}),a.nC.register("IJobRepository",{useClass:p}),a.nC.register("IInputDatasetRepository",{useClass:l}),a.nC.register("CategoryService",{useClass:w.Z})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[948,541],()=>r(2307));module.exports=a})();