"use strict";(()=>{var e={};e.id=322,e.ids=[322],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8396:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>j,requestAsyncStorage:()=>S,routeModule:()=>R,serverHooks:()=>w,staticGenerationAsyncStorage:()=>g});var s={};t.r(s),t.d(s,{DELETE:()=>h,GET:()=>d,POST:()=>y,PUT:()=>v});var o=t(9303),n=t(8716),a=t(670),i=t(7070);t(4731);var p=t(2972),c=t(2174);class u{constructor(e){this.scriptRepository=e}async createScript(e){return await this.scriptRepository.create(e)}async getScriptById(e){return await this.scriptRepository.getById(e)}async getAllScripts(e){return await this.scriptRepository.getAll(e)}async updateScript(e,r){return await this.scriptRepository.update(e,r)}async deleteScript(e){return await this.scriptRepository.delete(e)}}let l=u=(0,c.gn)([(0,p.b2)(),(0,c.fM)(0,(0,p.f3)("IScriptRepository")),(0,c.w6)("design:type",Function),(0,c.w6)("design:paramtypes",["undefined"==typeof IScriptRepository?Object:IScriptRepository])],u);async function d(e){let r=p.nC.resolve(l),{searchParams:t}=new URL(e.url),s=t.get("filter")||"";try{let e=await r.getAllScripts(s);return i.NextResponse.json(e)}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function y(e){let r=p.nC.resolve(l),t=await e.json();try{let e=await r.createScript(t);return i.NextResponse.json(e,{status:201})}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function v(e){let r=p.nC.resolve(l),t=await e.json();try{let e=await r.updateScript(t.id,t);return i.NextResponse.json(e)}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function h(e){let r=p.nC.resolve(l),t=await e.json();try{return await r.deleteScript(t.id),i.NextResponse.json({},{status:204})}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let R=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/script/route",pathname:"/api/script",filename:"route",bundlePath:"app/api/script/route"},resolvedPagePath:"/home/roger/github/clouddashboard/app/api/script/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:S,staticGenerationAsyncStorage:g,serverHooks:w}=R,x="/api/script/route";function j(){return(0,a.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:g})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,541],()=>t(8396));module.exports=s})();