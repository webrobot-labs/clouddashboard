"use strict";(()=>{var e={};e.id=127,e.ids=[127],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},505:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>w,requestAsyncStorage:()=>h,routeModule:()=>v,serverHooks:()=>x,staticGenerationAsyncStorage:()=>R});var o={};t.r(o),t.d(o,{DELETE:()=>y,GET:()=>b,POST:()=>d,PUT:()=>j});var s=t(9303),n=t(8716),a=t(670),i=t(7070);t(4731);var u=t(2972),p=t(2174);class c{constructor(e){this.jobRepository=e}async createJob(e){return await this.jobRepository.create(e)}async getAllJobs(){return await this.jobRepository.getAll()}async updateJob(e,r){return await this.jobRepository.update(e,r)}async deleteJob(e){return await this.jobRepository.delete(e)}}let l=c=(0,p.gn)([(0,u.b2)(),(0,p.fM)(0,(0,u.f3)("IJobRepository")),(0,p.w6)("design:type",Function),(0,p.w6)("design:paramtypes",["undefined"==typeof IJobRepository?Object:IJobRepository])],c);async function d(e){let r=u.nC.resolve(l),{name:t,description:o,code:s,creationDate:n,latestEdit:a,categoryId:p}=await e.json();try{let e=await r.createJob({name:t,description:o,code:s,creationDate:n,latestEdit:a,categoryId:p});return i.NextResponse.json(e,{status:201})}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function b(){let e=u.nC.resolve(l);try{let r=await e.getAllJobs();return i.NextResponse.json(r)}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function j(e){let r=u.nC.resolve(l),{id:t,name:o,description:s,code:n,creationDate:a,latestEdit:p,categoryId:c}=await e.json();try{let e=await r.updateJob(t,{name:o,description:s,code:n,creationDate:a,latestEdit:p,categoryId:c});return i.NextResponse.json(e)}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}async function y(e){let r=u.nC.resolve(l),{id:t}=await e.json();try{return await r.deleteJob(t),i.NextResponse.json({},{status:204})}catch(e){return console.error("Server error:",e),i.NextResponse.json({error:"Internal server error"},{status:500})}}let v=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/job/route",pathname:"/api/job",filename:"route",bundlePath:"app/api/job/route"},resolvedPagePath:"/home/roger/github/clouddashboard/app/api/job/route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:h,staticGenerationAsyncStorage:R,serverHooks:x}=v,g="/api/job/route";function w(){return(0,a.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:R})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[948,541],()=>t(505));module.exports=o})();